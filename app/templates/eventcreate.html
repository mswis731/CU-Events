{% extends 'navbar.html' %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css"/>
{% endblock %}

{% block content %}
<div class="container">
    <div id="legend">
      	<legend class="">Create an Event</legend>
    </div>
	<form action='', method='POST'>
		<input id = "eid" name="eid" type="number" value="{{form.eid.data}}" style="visibility:hidden;position:absolute;">
		<div class="form-group row">
			<label for="title" class="col-sm-2 col-form-label">Title</label>
			<div class="col-sm-6">
				<input type="text" class="form-control" id="title" name="title" value="{% if form.title.data %}{{form.title.data}}{% endif %}" placeholder="">
			</div>
		</div>
		<div class="form-group row">
			<label for="description" class="col-sm-2 col-form-label">Description</label>
			<div class="col-sm-6">
  		        <textarea class="form-control" id="description"  name="description" rows="5">{% if form.description.data %}{{form.description.data}}{% endif %}</textarea>
			</div>
		</div>
		<div class="form-group row">
			<label for="location" class="col-sm-2 col-form-label">Location</label>
			<div class="col-sm-2">
				<input type="text" class="form-control" id="building" name="building" value="{% if form.building.data %}{{form.building.data}}{% endif %}" placeholder="Building/Venue">
			</div>
			<div class="col-sm-2">
				<input type="text" class="form-control" id="addrAndStreet" name="addrAndStreet" value="{% if form.addrAndStreet.data %}{{form.addrAndStreet.data}}{% endif %}" placeholder="Address">
			</div>
			<div class="col-sm-2">
				<input type="text" class="form-control" id="city" name="city" value="{% if form.city.data %}{{form.city.data}}{% endif %}" placeholder="City">
			</div>
			<div class="col-sm-1">
				<p class="form-control-static">Illinois</p>
			</div>
			<div class="col-sm-2">
				<input type="text" class="form-control" id="zipcode" name="zipcode" value="{% if form.zipcode.data %}{{form.zipcode.data}}{% endif %}" placeholder="Zipcode">
			</div>
		</div>
		<div class="form-group row">
			<label for="title" class="col-sm-2 col-form-label">Start Date</label>
    		<div class='col-sm-6'>
        		<div class='input-group date' id='datetimepicker1'>
            		<input type='text' class="form-control" id="startDate" name="startDate" value="{%if form.startDate.data %}{{form.startDate.data}}{% endif %}" placeholder="Date and Time" />
            		<span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
            		</span>
        		</div>
    		</div>
		</div>
		<div class="form-group row">
			<label for="title" class="col-sm-2 col-form-label">End Date</label>
			<div class='col-sm-6'>
        		<div class='input-group date' id='datetimepicker2'>
            		<input type='text' class="form-control" id="endDate" name="endDate" value="{% if form.endDate.data %}{{form.endDate.data}}{% endif %}" placeholder="Date and Time" />
            		<span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
            		</span>
        		</div>
    		</div>
		</div>
		<div class="form-group row">
			<label for="title" class="col-sm-2 col-form-label">Price Range</label>
			<div class="col-sm-2">
				<input type="price" class="form-control" id="lowPrice" name="lowPrice" value="{% if form.lowPrice.data %}{{form.lowPrice.data}}{% endif %}" placeholder="Low Price">
			</div>
			<div class="col-sm-2">
				<input type="price" class="form-control" id="highPrice" name="highPrice" value="{% if form.highPrice.data %}{{form.highPrice.data}}{% endif %}" placeholder="High Price">
			</div>
		</div>
		<div class="form-group row">
			<label for="categories" class="col-sm-2 col-form-label">Categories</label>
			<div class="col-sm-4">
				<select class="selectpicker" multiple id="categories" name="categories">
					{% for category,url in categories %}
					{% if category in form.categories.data %}
					<option value="{{category}}" selected="selected">{{category}}</option>
					{% else %}
					<option value="{{category}}">{{category}}</option>
					{% endif %}
					{% endfor %}
				</select>
			</div>
		</div>
		<div class="form-group row">
			<label for="eventTypes" class="col-sm-2 col-form-label">Event Types</label>
			<div class="col-sm-4">
				<select class="selectpicker" multiple id="eventTypes" name="eventTypes">
					{% for event_type,url in event_types %}
					{% if event_type in form.eventTypes.data %}
					<option value="{{event_type}}" selected="selected">{{event_type}}</option>
					{% else %}
					<option value="{{event_type}}">{{event_type}}</option>
					{% endif %}
					{% endfor %}
				</select>
			</div>
		</div>
		<div class="form-group row">
			<div class="offset-sm-2 col-sm-10">
				<button type="submit" class="btn btn-primary">Create Event</button>
			</div>
		</div>
  </form>
</div>
{% endblock %}
	
{% block scripts %}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript">
	$(function() {
        $('#datetimepicker1').datetimepicker();
    });
</script>
<script type="text/javascript">
	$(function() {
        $('#datetimepicker2').datetimepicker();
    });
</script>
{% endblock %}
